<% include ../../../../partials/header %>
<title>Artist</title>
</head>
<% include ../../../../partials/nav %>
<div class="container">
    <div class="jumbotron">
            <div class="row">
                    <div class="col mx-5">
                        <h1 class="display-1">Edit</h1>
                        <hr>
                        <div class="form-group row mx-4 my-5">
                                <label for="ticketrecieve" class="col-sm-3 ml-5 col-form-label">Search Artist</label>
                                <div class="col-sm-6">
                        <form action="/admin/artist/edit" method="POST">
                            <select name="search" id="dropdown" class="form-control selectpicker"
                                data-live-search="true">
                                <% search.forEach(function(item){ %>
                                    <% if (artist && artist.Artist_Name == item.Artist_Name) {%>
                                    <option value="<%= item.Artist_Name %>" selected> <%= item.Artist_Name  %> </option>
                                    <% } else { %>
                                <option value="<%= item.Artist_Name %>"> <%= item.Artist_Name  %> </option>
                                <% } %>
                                <% }) %>
                            </select>
                            </div>
                        <button class="btn btn-success">Search</button>
                        </form>
                    </div>
                    </div>
        
                </div>
        <% if (artist) { %>
        <form action="/admin/artist/edit?_method=PUT" method="POST">
            <div class="container my-5" id="find">
                <div class="col mx-5">
                    <div class="form-group row mx-4">

                        <input type="hidden" name="artistID" value="<%= artist.Artist_ID %>">

                        <label for="concertname" class="col-sm-2 col-form-label">Artist Name</label>
                        <div class="col-sm-5">
                            <input type="text" class="form-control" id="concertname" name="name"
                                value="<%= artist.Artist_Name %>">
                        </div>
                    </div>
                    <div class="form-group row mx-4">
                            <label for="time" class="col-sm-2 col-form-label">Description</label>
                            <div class="col-sm-5">
                                <textarea name="detail" class="form-control" id="" cols="30" rows="5"><%= artist.Artist_Detail %></textarea>
                            </div>
                        </div>
                        <div class="form-group row mx-4">
                                <label for="vanue" class="col-sm-2 col-form-label">Record Label</label>
                                <div class="col-sm-5">
                                    <select name="recordLabel" class="form-control form-control">
                                            <% recordLabel.forEach(function(item){ %>
                                                <% if(  currentRecordLabel.Record_Label_Name  ==  item.Record_Label_Name ){ %>
                                                    <option value="<%= artist.Record_Label_ID %>" selected> <%= item.Record_Label_Name %></option>
                                                <% } else { %>
                                                    <option value="<%= item.Record_Label_ID %>"> <%= item.Record_Label_Name %> </option>
                                                <% } %>
                                                <% }) %>
                                    </select>
                                </div>
                            </div>
                            <!--- 3.52AM Add img and poster link --->
                            <div class="row mx-4">

                                <div class="col-2">
                                    <Label>Uploaded Image:</Label>
                                </div>
                                <div class="col-5">
                                    <img class="img-fluid" style="width: 50%;height: auto;" src="<%= artist.Artist_Image %>" alt="">
                                </div>
                            </div>
                            <div class="form-group row  mx-4 mt-3">
                                    <label for="image" class="col-sm-2 col-form-label">Image</label>
                                    <div class="col-sm-5">
                                        <input type="text" class="form-control img-fluid" id="image" name="image" value="<%= artist.Artist_Image %> %>">
                                    </div>  
                
                                </div>
                <!--- 3.52 modify button --->
                <div class="form-group row  mt-auto">
                    <div class="col-7"></div>
                    <div class="col-3 align-self-end">
                        <button class="btn btn-outline-info text-center align-self mx-3" type="submit">Edit</button>
                        <a href="/admin/artist/delete/<%= artist.Artist_ID %>" class="btn btn-outline-danger">Delete</a>
                    </div>
                <!--- /3.52AM --->
                </div>
            </div>
    </div>
    <% } %>
</div>
</div>


<!-- Optional JavaScript -->
<script>
    document.body.className = 'fade';
</script>
<script>
    document.addEventListener("DOMContentLoaded", function (e) {
        document.body.className = '';
    });
</script>
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
</script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
</script>
<script>
        $(function () {
            $('select').selectpicker();
        });
    </script>
</body>

</html>